'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.default = _DefaultDict;

var _jsError = require('@aureooms/js-error');

var _jsMapping = require('@aureooms/js-mapping');

function _DefaultDict(Dict, Map) {

	var DefaultDict = function DefaultDict(default_factory, mapping) {

		this.container = new Map(mapping);

		this.default_factory = default_factory;
	};

	DefaultDict.fromkeys = function (seq) {
		var value = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
		var default_factory = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;


		return new DefaultDict(default_factory, (0, _jsMapping.fromkeys)(seq, value));
	};

	DefaultDict.prototype = new Dict();

	DefaultDict.prototype.__missing__ = function (key) {

		if (this.default_factory === null) throw new _jsError.KeyError(key);

		return this.default_factory();
	};

	return DefaultDict;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9fRGVmYXVsdERpY3QuanMiXSwibmFtZXMiOlsiX0RlZmF1bHREaWN0IiwiRGljdCIsIk1hcCIsIkRlZmF1bHREaWN0IiwiZGVmYXVsdF9mYWN0b3J5IiwibWFwcGluZyIsImNvbnRhaW5lciIsImZyb21rZXlzIiwic2VxIiwidmFsdWUiLCJwcm90b3R5cGUiLCJfX21pc3NpbmdfXyIsImtleSJdLCJtYXBwaW5ncyI6Ijs7Ozs7a0JBR3dCQSxZOztBQUh4Qjs7QUFDQTs7QUFFZSxTQUFTQSxZQUFULENBQXdCQyxJQUF4QixFQUErQkMsR0FBL0IsRUFBcUM7O0FBRW5ELEtBQU1DLGNBQWMsU0FBZEEsV0FBYyxDQUFXQyxlQUFYLEVBQThCQyxPQUE5QixFQUF5Qzs7QUFFNUQsT0FBS0MsU0FBTCxHQUFpQixJQUFJSixHQUFKLENBQVNHLE9BQVQsQ0FBakI7O0FBRUEsT0FBS0QsZUFBTCxHQUF1QkEsZUFBdkI7QUFFQSxFQU5EOztBQVFBRCxhQUFZSSxRQUFaLEdBQXVCLFVBQVdDLEdBQVgsRUFBeUQ7QUFBQSxNQUF4Q0MsS0FBd0MsdUVBQWhDLElBQWdDO0FBQUEsTUFBekJMLGVBQXlCLHVFQUFQLElBQU87OztBQUUvRSxTQUFPLElBQUlELFdBQUosQ0FBaUJDLGVBQWpCLEVBQW1DLHlCQUFVSSxHQUFWLEVBQWdCQyxLQUFoQixDQUFuQyxDQUFQO0FBRUEsRUFKRDs7QUFNQU4sYUFBWU8sU0FBWixHQUF3QixJQUFJVCxJQUFKLEVBQXhCOztBQUVBRSxhQUFZTyxTQUFaLENBQXNCQyxXQUF0QixHQUFvQyxVQUFXQyxHQUFYLEVBQWlCOztBQUVwRCxNQUFLLEtBQUtSLGVBQUwsS0FBeUIsSUFBOUIsRUFBcUMsTUFBTSxzQkFBY1EsR0FBZCxDQUFOOztBQUVyQyxTQUFPLEtBQUtSLGVBQUwsRUFBUDtBQUVBLEVBTkQ7O0FBUUEsUUFBT0QsV0FBUDtBQUVBIiwiZmlsZSI6Il9EZWZhdWx0RGljdC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEtleUVycm9yIH0gZnJvbSAnQGF1cmVvb21zL2pzLWVycm9yJyA7XG5pbXBvcnQgeyBmcm9ta2V5cyB9IGZyb20gJ0BhdXJlb29tcy9qcy1tYXBwaW5nJyA7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9EZWZhdWx0RGljdCAoIERpY3QgLCBNYXAgKSB7XG5cblx0Y29uc3QgRGVmYXVsdERpY3QgPSBmdW5jdGlvbiAoIGRlZmF1bHRfZmFjdG9yeSAgLCBtYXBwaW5nICApIHtcblxuXHRcdHRoaXMuY29udGFpbmVyID0gbmV3IE1hcCggbWFwcGluZyApIDtcblxuXHRcdHRoaXMuZGVmYXVsdF9mYWN0b3J5ID0gZGVmYXVsdF9mYWN0b3J5IDtcblxuXHR9IDtcblxuXHREZWZhdWx0RGljdC5mcm9ta2V5cyA9IGZ1bmN0aW9uICggc2VxICwgdmFsdWUgPSBudWxsICwgZGVmYXVsdF9mYWN0b3J5ID0gbnVsbCApIHtcblxuXHRcdHJldHVybiBuZXcgRGVmYXVsdERpY3QoIGRlZmF1bHRfZmFjdG9yeSAsIGZyb21rZXlzKCBzZXEgLCB2YWx1ZSApICkgO1xuXG5cdH0gO1xuXG5cdERlZmF1bHREaWN0LnByb3RvdHlwZSA9IG5ldyBEaWN0KCApIDtcblxuXHREZWZhdWx0RGljdC5wcm90b3R5cGUuX19taXNzaW5nX18gPSBmdW5jdGlvbiAoIGtleSApIHtcblxuXHRcdGlmICggdGhpcy5kZWZhdWx0X2ZhY3RvcnkgPT09IG51bGwgKSB0aHJvdyBuZXcgS2V5RXJyb3IoIGtleSApIDtcblxuXHRcdHJldHVybiB0aGlzLmRlZmF1bHRfZmFjdG9yeSggKSA7XG5cblx0fSA7XG5cblx0cmV0dXJuIERlZmF1bHREaWN0IDtcblxufVxuIl19
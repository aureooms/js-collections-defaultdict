'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.default = _DefaultDict;

var _aureoomsJsError = require('aureooms-js-error');

var _aureoomsJsMapping = require('aureooms-js-mapping');

function _DefaultDict(Dict, Map) {

	var DefaultDict = function DefaultDict(default_factory, mapping) {

		this.container = new Map(mapping);

		this.default_factory = default_factory;
	};

	DefaultDict.fromkeys = function (seq) {
		var value = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
		var default_factory = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;


		return new DefaultDict(default_factory, (0, _aureoomsJsMapping.fromkeys)(seq, value));
	};

	DefaultDict.prototype = new Dict();

	DefaultDict.prototype.__missing__ = function (key) {

		if (this.default_factory === null) throw new _aureoomsJsError.KeyError(key);

		return this.default_factory();
	};

	return DefaultDict;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9fRGVmYXVsdERpY3QuanMiXSwibmFtZXMiOlsiX0RlZmF1bHREaWN0IiwiRGljdCIsIk1hcCIsIkRlZmF1bHREaWN0IiwiZGVmYXVsdF9mYWN0b3J5IiwibWFwcGluZyIsImNvbnRhaW5lciIsImZyb21rZXlzIiwic2VxIiwidmFsdWUiLCJwcm90b3R5cGUiLCJfX21pc3NpbmdfXyIsImtleSJdLCJtYXBwaW5ncyI6Ijs7Ozs7a0JBR3dCQSxZOztBQUh4Qjs7QUFDQTs7QUFFZSxTQUFTQSxZQUFULENBQXdCQyxJQUF4QixFQUErQkMsR0FBL0IsRUFBcUM7O0FBRW5ELEtBQU1DLGNBQWMsU0FBZEEsV0FBYyxDQUFXQyxlQUFYLEVBQThCQyxPQUE5QixFQUF5Qzs7QUFFNUQsT0FBS0MsU0FBTCxHQUFpQixJQUFJSixHQUFKLENBQVNHLE9BQVQsQ0FBakI7O0FBRUEsT0FBS0QsZUFBTCxHQUF1QkEsZUFBdkI7QUFFQSxFQU5EOztBQVFBRCxhQUFZSSxRQUFaLEdBQXVCLFVBQVdDLEdBQVgsRUFBeUQ7QUFBQSxNQUF4Q0MsS0FBd0MsdUVBQWhDLElBQWdDO0FBQUEsTUFBekJMLGVBQXlCLHVFQUFQLElBQU87OztBQUUvRSxTQUFPLElBQUlELFdBQUosQ0FBaUJDLGVBQWpCLEVBQW1DLGlDQUFVSSxHQUFWLEVBQWdCQyxLQUFoQixDQUFuQyxDQUFQO0FBRUEsRUFKRDs7QUFNQU4sYUFBWU8sU0FBWixHQUF3QixJQUFJVCxJQUFKLEVBQXhCOztBQUVBRSxhQUFZTyxTQUFaLENBQXNCQyxXQUF0QixHQUFvQyxVQUFXQyxHQUFYLEVBQWlCOztBQUVwRCxNQUFLLEtBQUtSLGVBQUwsS0FBeUIsSUFBOUIsRUFBcUMsTUFBTSw4QkFBY1EsR0FBZCxDQUFOOztBQUVyQyxTQUFPLEtBQUtSLGVBQUwsRUFBUDtBQUVBLEVBTkQ7O0FBUUEsUUFBT0QsV0FBUDtBQUVBIiwiZmlsZSI6Il9EZWZhdWx0RGljdC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEtleUVycm9yIH0gZnJvbSAnYXVyZW9vbXMtanMtZXJyb3InIDtcbmltcG9ydCB7IGZyb21rZXlzIH0gZnJvbSAnYXVyZW9vbXMtanMtbWFwcGluZycgO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfRGVmYXVsdERpY3QgKCBEaWN0ICwgTWFwICkge1xuXG5cdGNvbnN0IERlZmF1bHREaWN0ID0gZnVuY3Rpb24gKCBkZWZhdWx0X2ZhY3RvcnkgICwgbWFwcGluZyAgKSB7XG5cblx0XHR0aGlzLmNvbnRhaW5lciA9IG5ldyBNYXAoIG1hcHBpbmcgKSA7XG5cblx0XHR0aGlzLmRlZmF1bHRfZmFjdG9yeSA9IGRlZmF1bHRfZmFjdG9yeSA7XG5cblx0fSA7XG5cblx0RGVmYXVsdERpY3QuZnJvbWtleXMgPSBmdW5jdGlvbiAoIHNlcSAsIHZhbHVlID0gbnVsbCAsIGRlZmF1bHRfZmFjdG9yeSA9IG51bGwgKSB7XG5cblx0XHRyZXR1cm4gbmV3IERlZmF1bHREaWN0KCBkZWZhdWx0X2ZhY3RvcnkgLCBmcm9ta2V5cyggc2VxICwgdmFsdWUgKSApIDtcblxuXHR9IDtcblxuXHREZWZhdWx0RGljdC5wcm90b3R5cGUgPSBuZXcgRGljdCggKSA7XG5cblx0RGVmYXVsdERpY3QucHJvdG90eXBlLl9fbWlzc2luZ19fID0gZnVuY3Rpb24gKCBrZXkgKSB7XG5cblx0XHRpZiAoIHRoaXMuZGVmYXVsdF9mYWN0b3J5ID09PSBudWxsICkgdGhyb3cgbmV3IEtleUVycm9yKCBrZXkgKSA7XG5cblx0XHRyZXR1cm4gdGhpcy5kZWZhdWx0X2ZhY3RvcnkoICkgO1xuXG5cdH0gO1xuXG5cdHJldHVybiBEZWZhdWx0RGljdCA7XG5cbn1cbiJdfQ==